<!doctype html>
<html lang="en">
<head>
    {% load staticfiles %}
	<meta charset="utf-8" />
	<link rel="apple-touch-icon" sizes="76x76" href="{% static 'users/signup_login/assets/img/apple-icon.png' %}">
	<link rel="icon" type="image/png" href="{% static 'users/signup_login/assets/img/favicon.png' %}">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>WATER LEVEL</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />

	<!--     Fonts and icons     -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />

	<!-- CSS Files -->
    <link href="{% static 'users/signup_login/assets/css/bootstrap.min.css' %}" rel="stylesheet" />
    <link href="{% static 'users/signup_login/assets/css/material-kit.css' %}" rel="stylesheet"/>

</head>

<body class="landing-page" onload="notify();">
    <nav class="navbar navbar-transparent navbar-absolute">
    	<div class="container">
        	<!-- Brand and toggle get grouped for better mobile display -->
        	<div class="navbar-header">
        		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navigation-example">
            		<span class="sr-only">Toggle navigation</span>
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
        		</button>
        		<a class="navbar-brand">WATER LEVEL</a>
        	</div>

    	</div>
    </nav>

    <div class="wrapper">
        <div class="header" style="background-image: url('{% static 'users/signup_login/assets/img/water.jpg' %}'); height:300px;">

        </div>


        <script>

            function notify(){

                water_level = 35;
                var x = document.getElementById("alert");
                var y = document.getElementById("warning");
                var z = document.getElementById("danger");

                if (water_level > 50){
                    x.style.display = "block";
                    y.style.display = "none";
                    z.style.display = "none";
                }
                else if (50 > water_level && water_level > 25) {
                    x.style.display = "none";
                    y.style.display = "block";
                    z.style.display = "none";
                }
                else {
                    x.style.display = "none";
                    y.style.display = "none";
                    z.style.display = "block";
                }
            }
        </script>

        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});

      google.charts.setOnLoadCallback(drawWaterLevelChart);
      
    </script>

		<div class="main main-raised">
			<div class="container">
                <div style="height:30px"> </div>
                <div class="alert alert-success" id="alert" style="display:none;">
                    <div class="container-fluid">
                        <div class="alert-icon">
                            <i class="material-icons">check</i>
                        </div>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="false"><i class="material-icons">clear</i></span>
                        </button>
                        <b>*</b> Yuhuuu! you've got enough water.
                    </div>
                </div>

                <div class="alert alert-warning" id="warning" style="display:none;">
                    <div class="container-fluid">
                        <div class="alert-icon">
                            <i class="material-icons">warning</i>
                        </div>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true"><i class="material-icons">clear</i></span>
                        </button>
                        <b>Warning Alert:</b> Hey, water is less than 50% .
                    </div>
                </div>

                <div class="alert alert-danger active" id="danger" style="display:none;">
                    <div class="container-fluid">
                        <div class="alert-icon">
                            <i class="material-icons">error_outline</i>
                        </div>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true"><i class="material-icons">clear</i></span>
                        </button>
                        <b>Error Alert:</b> Damn man! Tank is almost empty.
                    </div>
                </div>
	        </div>
            <center><div id="WaterLevel_chart" style="width: 900px; height: 500px"></div></center>
		</div>


	    <footer class="footer">
	        <div class="container">
	       </div>
	    </footer>

<script type="text/javascript">
    function drawWaterLevelChart() {
        var data = google.visualization.arrayToDataTable([
          ['Time', 'Water Level'],
          ['17',30]
        ]);
        data.removeRow(0);

        {% for f in water_list%}
            data.addRow(['17',{{f.level}}]);
        {% endfor %}


        var options = {
          animation: {"startup": true,
                      duration: 1000,
                      easing: 'out',},
          pointSize: 10,
          pointShape: 'circle',
          title: 'Water Level',
          vAxis: {title: "Water Level"},
          hAxis: {title: "Year"},
          <!--lineWidth: 4,>
          curveType: 'function',

          legend: { position: 'top' },
          colors: ['#1CD6FF']

        };

        var chart = new google.visualization.AreaChart(document.getElementById('WaterLevel_chart'));

        chart.draw(data, options);


      }
</script>

</body>

	<!--   Core JS Files   -->
	<script src="{% static 'users/signup_login/assets/js/jquery.min.js' %}" type="text/javascript"></script>
	<script src="{% static 'users/signup_login/assets/js/bootstrap.min.js' %}" type="text/javascript"></script>
	<script src="{% static 'users/signup_login/assets/js/material.min.js' %}"></script>

	<!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
	<script src="{% static 'users/signup_login/assets/js/nouislider.min.js' %}" type="text/javascript"></script>

	<!--  Plugin for the Datepicker, full documentation here: http://www.eyecon.ro/bootstrap-datepicker/ -->
	<script src="{% static 'users/signup_login/assets/js/bootstrap-datepicker.js' %}" type="text/javascript"></script>

	<!-- Control Center for Material Kit: activating the ripples, parallax effects, scripts from the example pages etc -->
	<script src="{% static 'users/signup_login/assets/js/material-kit.js' %}" type="text/javascript"></script>

</html>
